{% extends "base.html" %}

{% block title %}Change Password{% endblock %}

{% block content %}
<div class="container mx-auto max-w-md px-4 py-8">
    <div class="bg-white p-6 rounded-lg shadow-md">
        <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">เปลี่ยนรหัสผ่าน</h2>
        
        {% if messages %}
            {% for message in messages %}
                <div class="p-4 mb-4 text-sm rounded-lg
                    {% if message.tags == 'success' %} bg-green-100 text-green-800
                    {% elif message.tags == 'error' %} bg-red-100 text-red-800
                    {% else %} bg-blue-100 text-blue-800
                    {% endif %}"
                    role="alert">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}
        <form method="post">
            {% csrf_token %}

            <div class="space-y-4">
                <div>
                    <label for="{{ form.old_password.id_for_label }}" class="block text-sm font-medium text-gray-700">รหัสผ่านเก่า:</label>
                    {{ form.old_password }}
                    {% if form.old_password.errors %}
                        <p class="text-red-500 text-xs mt-1">{{ form.old_password.errors.as_text }}</p>
                    {% endif %}
                </div>
                <div>
                    <label for="{{ form.new_password1.id_for_label }}" class="block text-sm font-medium text-gray-700">รหัสผ่านใหม่:</label>
                    {{ form.new_password1 }}
                    {% if form.new_password1.errors %}
                        <p class="text-red-500 text-xs mt-1">{{ form.new_password1.errors.as_text }}</p>
                    {% endif %}
                    <p class="text-xs text-gray-500 mt-1">{{ form.new_password1.help_text|safe }}</p>
                </div>
                <div>
                    <label for="{{ form.new_password2.id_for_label }}" class="block text-sm font-medium text-gray-700">ยืนยันรหัสผ่านใหม่:</label>
                    {{ form.new_password2 }}
                    {% if form.new_password2.errors %}
                        <p class="text-red-500 text-xs mt-1">{{ form.new_password2.errors.as_text }}</p>
                    {% endif %}
                </div>
            </div>
            
            <button type="submit" class="w-full bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 mt-6">
                บันทึกรหัสผ่านใหม่
            </button>
        </form>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
    input[type="password"] {
        width: 100%;
        padding: 0.5rem;
        border: 1px solid #d1d5db;
        border-radius: 0.375rem;
        margin-top: 0.25rem;
    }
</style>
{% endblock %}